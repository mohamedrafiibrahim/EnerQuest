<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leave Request Form</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
        background-image: url('https://th.bing.com/th/id/OIP.EtEvOGQFxyl8gibtAJ9OaAHaE7?rs=1&pid=ImgDetMain');
        background-size: cover; /* Cover the entire background */
        background-position: center; /* Center the background image */
        background-repeat: no-repeat; /* Do not repeat the background image */
        }
        /* Custom CSS for navigation bar */
        .navbar-brand img {
        width: 80px; /* Adjust the width as needed */
        height: auto; /* Maintain aspect ratio */
        }
        .navbar {
            background-color: #343a40; /* Darker background color */
        }

        .navbar-brand {
            margin-right: auto; /* Move logo to the left */
        }

        .navbar-nav {
            margin-left: auto; /* Move links to the right */
        }

        .nav-item {
            border-left: 2px solid rgba(255,255,255,0.5); /* Add wider border between links */
        }

        .nav-item:last-child {
            border-right: 2px solid rgba(255,255,255,0.5); /* Add wider border after last link */
        }

        .nav-link {
            color: #fff; /* White text color */
            transition: all 0.3s ease-in-out; /* Smooth transition for hover effects */
            padding: 0.5rem 1rem; /* Increase padding for better touch experience */
        }

        .nav-link:hover {
            border-bottom: 3px solid #fff; /* Add thicker border bottom on hover */
        }

        .nav-link:active {
            background-color: #fff; /* Change background color on click */
            color: #343a40; /* Change text color on click */
        }

        /* Custom CSS for registration form */
       
        .registration-container {
            max-width: 500px;
            margin: 20px auto;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.75); /* 75% transparent white */
            border-radius: 10px;
            box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.1);
        }
        .registration-title {
            text-align: center;
            margin-bottom: 20px;
        }

        /* Custom CSS for submit button */
        #submitBtn {
            background-color: #000; /* Black background color */
            color: #fff; /* White text color */
            border: none; /* Remove border */
            border-radius: 30px; /* Curved borders */
            padding: 10px 20px; /* Padding for better touch experience */
            transition: all 0.3s ease-in-out; /* Smooth transition */
        }

        #submitBtn:hover {
            background-color: #444; /* Slightly lighter black on hover */
            color: #fff; /* Keep white text on hover */
        }
    </style>
</head>
<body>

    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#"><img src="logo.jpeg" alt="Logo"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://www.enerquestservices.com/switchgearinfo">Projects</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://www.enerquestservices.com/our-facility">Facility</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://www.enerquestservices.com/about-enerquest">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://www.enerquestservices.com/join-us">Careers</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Registration Form -->
    <div class="registration-container">
        <h2 class="registration-title">Leave Request Form</h2>
        
        <form id="leaveForm">
            <div class="form-group">
                <label for="firstname">Firstname:</label>
                <input type="text" class="form-control" id="firstname" name="firstname" required>
            </div>

            <div class="form-group">
                <label for="lastname">Lastname:</label>
                <input type="text" class="form-control" id="lastname" name="lastname" required>
            </div>

            <div class="form-group">
                <label for="email">Supervisor Mail Id:</label>
                <input type="email" class="form-control" id="email" name="email" required>
            </div>

            <div class="form-group">
                <label for="leaveType">Leave Type:</label>
                <select class="form-control" id="leaveType" name="leaveType" required>
                    <option value="" disabled selected>Select leave type</option>
                    <option value="Sick Leave">Sick Leave</option>
                    <option value="Emergency Leave">Emergency Leave</option>
                    <option value="Pregnancy Leave">Pregnancy Leave</option>
                    <option value="Maternal Leave">Maternal Leave</option>
                    <option value="Paternal Leave">Paternal Leave</option>
                    <option value="Others">Others</option>
                </select>
            </div>

            <div class="form-group" id="reasonGroup" style="display: none;">
                <label for="reason">Reason for Leave:</label>
                <input type="text" class="form-control" id="reason" name="reason" placeholder="Reason for Leave">
            </div>

            <div class="form-group">
                <label for="daysRequired">Number of days required:</label>
                <select class="form-control" id="daysRequired" name="daysRequired" required>
                    <option value="" disabled selected>Select</option>
                    <option value="Single">Single</option>
                    <option value="Multiple">Multiple</option>
                </select>
            </div>

            <div class="form-group" id="datePickerGroup" style="display: none;">
                <label for="startDate">Start Date:</label>
                <input type="date" class="form-control" id="startDate" name="startDate">
                <label for="endDate">End Date:</label>
                <input type="date" class="form-control" id="endDate" name="endDate">
            </div>

            <div class="form-group" id="daysNumberGroup" style="display: none;">
                <label for="daysNumber">Number of days:</label>
                <input type="text" class="form-control" id="daysNumber" name="daysNumber" readonly>
            </div>

            <button type="button" class="btn btn-primary" id="submitBtn">Submit</button>
        </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        document.getElementById("leaveType").addEventListener("change", function(event){
            var reasonGroup = document.getElementById("reasonGroup");
            if(event.target.value === "Others") {
                reasonGroup.style.display = "block";
                document.getElementById("reason").required = true;
            } else {
                reasonGroup.style.display = "none";
                document.getElementById("reason").required = false;
            }
        });
    
        document.getElementById("daysRequired").addEventListener("change", function(event){
            var datePickerGroup = document.getElementById("datePickerGroup");
            var daysNumberGroup = document.getElementById("daysNumberGroup");
    
            if(event.target.value === "Multiple") {
                datePickerGroup.style.display = "block";
                daysNumberGroup.style.display = "none";
                document.getElementById("startDate").required = true;
                document.getElementById("endDate").required = true;
            } else if (event.target.value === "Single") {
                datePickerGroup.style.display = "block";
                daysNumberGroup.style.display = "none";
                document.getElementById("startDate").required = true;
                document.getElementById("endDate").required = false;
            } else {
                datePickerGroup.style.display = "none";
                daysNumberGroup.style.display = "none";
                document.getElementById("startDate").required = false;
                document.getElementById("endDate").required = false;
            }
        });
    
        document.getElementById("endDate").addEventListener("change", function(event){
            var startDate = new Date(document.getElementById("startDate").value);
            var endDate = new Date(event.target.value);
            var daysNumberField = document.getElementById("daysNumber");
    
            if(startDate && endDate) {
                var timeDifference = Math.abs(endDate.getTime() - startDate.getTime());
                var differenceInDays = Math.ceil(timeDifference / (1000 * 3600 * 24));
                daysNumberField.value = differenceInDays;
            }
        });
    
        document.getElementById("submitBtn").addEventListener("click", function(event){
            // Confirm submission
            if(confirm("Are you sure you want to submit?")) {
                // Get form values
                var firstname = document.getElementById("firstname").value;
                var lastname = document.getElementById("lastname").value;
                var email = document.getElementById("email").value;
                var leaveType = document.getElementById("leaveType").value;
                var reason = leaveType === "Others" ? document.getElementById("reason").value : leaveType;
                var daysRequired = document.getElementById("daysRequired").value;
                var startDate = document.getElementById("startDate").value;
                var endDate = document.getElementById("endDate").value;
                var daysNumber = document.getElementById("daysNumber").value;
    
                if((leaveType === "Others" && reason.trim() === "") || (daysRequired === "Multiple" && (startDate === "" || endDate === ""))) {
                    alert("Please provide all required information.");
                    return;
                }
    
                // Create object to store user details
                var userDetails = {
                    firstname: firstname,
                    lastname: lastname,
                    email: email,
                    leaveType: leaveType,
                    reason: reason,
                    daysRequired: daysRequired,
                    startDate: startDate,
                    endDate: endDate,
                    daysNumber: daysNumber
                };
    
                // Store user details in local storage
                localStorage.setItem("userDetails", JSON.stringify(userDetails));
    
                // Create email request
                var subject = "Leave Request from " + firstname + " " + lastname;
                var body = "Leave Request for " + leaveType + ".\nReason: " + reason;
                if(daysRequired === "Multiple") {
                    body += ".\nStart Date: " + startDate + ".\nEnd Date: " + endDate + ".\nNumber of days: " + daysNumber;
                } else if (daysRequired === "Single") {
                    body += ".\nDate: " + startDate;
                }
                body += ".\n\nRegards,\n" + firstname + " " + lastname;
                var mailtoLink = "mailto:" + email + "?subject=" + encodeURIComponent(subject) + "&body=" + encodeURIComponent(body);
                
                window.location.href = mailtoLink; // Open default email client with pre-filled details
                setTimeout(function() {
                    alert("If your email client did not open, please check your settings or manually send an email with the following details:\n\n" +
                          "Subject: " + subject + "\n" +
                          "Body: " + body);
                }, 1000);
            }
        });
    </script>
    </body>
    </html>
    
